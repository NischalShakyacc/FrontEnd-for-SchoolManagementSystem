{"ast":null,"code":"import _defineProperty from \"E:\\\\School Web Application\\\\FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"E:\\\\School Web Application\\\\FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"E:\\\\School Web Application\\\\FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\School Web Application\\\\FrontEnd\\\\src\\\\Components\\\\InnerComponents\\\\AddNote.js\";\nimport React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n//import NoticeContext from \"../../context/notices/NoticeContext\";\nimport AlertMessage from '../AlertMessage';\nimport axios from 'axios';\nexport default function AddNote() {\n  var _useState = useState({\n      title: \"\",\n      usernotice: \"\",\n      attachments: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    notice = _useState2[0],\n    setNotice = _useState2[1]; //fucntions used\n  var onchange = function onchange(e) {\n    setNotice(_objectSpread({}, notice, _defineProperty({}, e.target.name, e.target.value)));\n  };\n  var fileAdded = function fileAdded(e) {\n    setNotice(_objectSpread({}, notice, {\n      attachments: e.target.files[0]\n    }));\n  };\n  var config = {\n    headers: {\n      'auth-token': localStorage.getItem('token')\n    }\n  };\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showAdded = _useState4[0],\n    setShowAdded = _useState4[1];\n  var handleAdd = function handleAdd(e) {\n    e.preventDefault();\n    //addNotice(notice.title, notice.usernotice);\n    var formData = new FormData();\n    formData.append('title', notice.title);\n    formData.append('usernotice', notice.usernotice);\n    formData.append('attachments', notice.attachments);\n    axios.post('http://localhost:5000/api/notice/addnoticephoto', formData, config).then(function (res) {\n      console.log(res);\n      if (res) {\n        //send mail\n        var _config = {\n          SecureToken: \"7bfe5e2e-86df-4190-9d57-d0ac78a325cb\",\n          To: '019bim027@sxc.edu.np',\n          From: \"nischalshakyacc@gmail.com\",\n          Subject: \"Delight School: \".concat(notice.title),\n          Body: notice.usernotice + 'For more details cgeck website.'\n        };\n        if (window.Email) {\n          window.Email.send(_config).then(function () {\n            return alert(\"Email Sent\");\n          });\n        }\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n    setShowAdded(true);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '95%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleAdd,\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter Notice Title\",\n    onChange: onchange,\n    name: \"title\",\n    minLength: 10,\n    value: notice.title,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Title must be longer than 10 letters.\")), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Notice\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    id: \"exampleFormControlTextarea1\",\n    rows: \"5\",\n    placeholder: \"Enter Notice \",\n    onChange: onchange,\n    name: \"usernotice\",\n    minLength: 10,\n    value: notice.usernotice,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Notice must be longer than 10 letters.\")), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"Attach Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: fileAdded,\n    className: \"form-control\",\n    name: \"attachments\",\n    accept: \".png, .jpg, .jpeg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"additem-btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"+ Add Notice\"))), showAdded && /*#__PURE__*/React.createElement(AlertMessage, {\n    severe: \"success\",\n    timeout: \"3000\",\n    message: \"Notice Added Successfully!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 23\n    }\n  }));\n}","map":{"version":3,"names":["React","useState","Button","Form","AlertMessage","axios","AddNote","_useState","title","usernotice","attachments","_useState2","_slicedToArray","notice","setNotice","onchange","e","_objectSpread","_defineProperty","target","name","value","fileAdded","files","config","headers","localStorage","getItem","_useState3","_useState4","showAdded","setShowAdded","handleAdd","preventDefault","formData","FormData","append","post","then","res","console","log","SecureToken","To","From","Subject","concat","Body","window","Email","send","alert","catch","err","createElement","Fragment","style","width","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","encType","Group","className","Label","Control","type","placeholder","onChange","minLength","required","Text","id","rows","accept","severe","timeout","message"],"sources":["E:/School Web Application/FrontEnd/src/Components/InnerComponents/AddNote.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n//import NoticeContext from \"../../context/notices/NoticeContext\";\r\nimport AlertMessage from '../AlertMessage';\r\nimport axios from 'axios'\r\n\r\nexport default function AddNote() {\r\n\r\n    const [notice,setNotice] = useState(\r\n        {\r\n            title:\"\",\r\n            usernotice:\"\",\r\n            attachments: \"\"\r\n        }\r\n    );\r\n\r\n    //fucntions used\r\n    const onchange = (e)=>{\r\n        setNotice({...notice,[e.target.name]:e.target.value});\r\n    }\r\n    const fileAdded = (e)=>{\r\n        setNotice({...notice, attachments :e.target.files[0]});\r\n    }\r\n    const config = {\r\n    headers: { 'auth-token' : localStorage.getItem('token') }\r\n    };\r\n\r\n    const [showAdded,setShowAdded] = useState(false);\r\n\r\n    const handleAdd = (e) =>{\r\n        e.preventDefault();\r\n        //addNotice(notice.title, notice.usernotice);\r\n        const formData = new FormData();\r\n        formData.append('title', notice.title);\r\n        formData.append('usernotice', notice.usernotice);\r\n        formData.append('attachments', notice.attachments);\r\n\r\n        axios.post('http://localhost:5000/api/notice/addnoticephoto',formData,\r\n        config\r\n        ).then(res=>{\r\n        console.log(res)\r\n            if(res){\r\n            //send mail\r\n            const config = {\r\n                SecureToken : \"7bfe5e2e-86df-4190-9d57-d0ac78a325cb\",\r\n                To : '019bim027@sxc.edu.np',\r\n                From : \"nischalshakyacc@gmail.com\",\r\n                Subject : `Delight School: ${notice.title}`,\r\n                Body : notice.usernotice + 'For more details cgeck website.'\r\n            }\r\n            if(window.Email){\r\n                window.Email.send(config).then(()=> alert(\"Email Sent\"))\r\n            }\r\n        }\r\n        })\r\n        .catch(err=>{\r\n        console.log(err);\r\n        })\r\n\r\n        setShowAdded(true);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <div style={{width:'95%'}}>\r\n        <Form onSubmit={handleAdd}  encType='multipart/form-data' >\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Title</Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter Notice Title\" onChange={onchange} name='title' minLength={10} value={notice.title} required />\r\n                <Form.Text className=\"text-muted\">\r\n                Title must be longer than 10 letters.\r\n                </Form.Text>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\" >\r\n                <Form.Label>Notice</Form.Label>\r\n                <textarea\r\n                    className=\"form-control\"\r\n                    id=\"exampleFormControlTextarea1\"\r\n                    rows=\"5\"\r\n                    placeholder=\"Enter Notice \" \r\n                    onChange={onchange} \r\n                    name='usernotice'  \r\n                    minLength={10} \r\n                    value={notice.usernotice}\r\n                    required\r\n                />\r\n                {/*\r\n                <Form.Control type=\"text\" placeholder=\"Enter Notice \" onChange={onchange} name='usernotice'  minLength={10} required /> */}\r\n                <Form.Text className=\"text-muted\">\r\n                    Notice must be longer than 10 letters.\r\n                </Form.Text>\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-3\" >\r\n                <Form.Label>Attach Image</Form.Label>\r\n                <input \r\n                type=\"file\" \r\n                onChange={fileAdded} \r\n                className=\"form-control\"\r\n                name='attachments'\r\n                accept='.png, .jpg, .jpeg'\r\n                />\r\n            </Form.Group>\r\n            <Button className='additem-btn' type=\"submit\" >\r\n                + Add Notice\r\n            </Button>\r\n        </Form>\r\n        </div>\r\n\r\n        {showAdded && <AlertMessage severe=\"success\" timeout=\"3000\" message=\"Notice Added Successfully!\" />}\r\n\r\n        </>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}